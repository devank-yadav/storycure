/* Base (you already had most of this) */
.immersive { position: relative; min-height: 100vh; background:#000; color:#fff; overflow:hidden; }
.im-bg, .im-overlay { position: absolute; inset: 0; }
.im-bg { background-size: cover; background-position: center; filter: blur(24px); transform: scale(1.08); opacity: .9; }
.im-overlay { background: radial-gradient(80% 80% at 50% 20%, rgba(0,0,0,.2), rgba(0,0,0,.72)), linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.9)); }

.im-inner { position: relative; z-index: 1; min-height: 100vh; display: grid; place-items: center; padding: clamp(16px,3vw,28px); }

/* Comic canvas */
.comic-wrapper{
  width: min(1200px, 96vw);
  margin: 0 auto;
}

.comic-grid{
  /* 4 rows x 3 cols with named areas */
  display: grid;
  grid-template-columns: 1.2fr 1fr 1fr;
  grid-template-rows: 0.9fr 0.9fr 0.9fr 0.9fr;
  gap: clamp(10px, 1.6vw, 18px);
  grid-template-areas:
    "A A B"
    "A A C"
    "D E C"
    "D F F";
  background: #0b0d0e;
  padding: clamp(10px, 1.6vw, 18px);
  border-radius: 18px;
  box-shadow: 0 24px 80px rgba(0,0,0,.55);
  border: 3px solid #0b0d0e;              /* thick outer gutter edge */
}

/* Panels */
.panel{
  position: relative;
  border-radius: 14px;
  overflow: hidden;
  background:
    radial-gradient(circle at 20% 15%, rgba(255,255,255,.06), transparent 35%),
    radial-gradient(circle at 80% 85%, rgba(255,255,255,.05), transparent 40%),
    repeating-radial-gradient(circle at 0 0, rgba(255,255,255,.05) 0 2px, transparent 2px 4px),
    #121517;
  outline: 3px solid #101214;             /* inner gutter */
}

.panel-img{
  width: 100%; height: 100%; object-fit: cover; display: block;
  transform: scale(1.001);                 /* remove hairline gaps */
}

/* Empty state */
.panel.is-empty{
  display: grid; place-items: center;
}
.panel-add{
  display:flex; flex-direction:column; align-items:center; gap:10px;
  padding: 14px 16px;
  border: none; cursor: pointer; background: rgba(255,255,255,.06);
  color:#e5e7eb; border-radius: 12px;
  box-shadow: inset 0 0 0 2px rgba(255,255,255,.08);
  transition: background .2s ease, transform .06s ease;
}
.panel-add:hover{ background: rgba(255,255,255,.1); transform: translateY(-1px); }
.panel-add span{ font-weight: 700; letter-spacing:.2px; }

/* Controls on filled panels */
.panel.has-img .panel-clear,
.panel.has-img .panel-change{
  position: absolute; z-index: 2; border: none; cursor: pointer;
  background: rgba(0,0,0,.45); color:#fff;
  padding: 6px 10px; border-radius: 10px;
  backdrop-filter: blur(6px);
}
.panel-clear{ top: 8px; right: 8px; font-size: 18px; line-height: 1; width: 32px; height: 32px; display:grid; place-items:center; }
.panel-change{ bottom: 8px; right: 8px; font-weight: 700; }

/* Area mapping */
.panel[style*="grid-area: A"]{ grid-area: A; }
.panel[style*="grid-area: B"]{ grid-area: B; }
.panel[style*="grid-area: C"]{ grid-area: C; }
.panel[style*="grid-area: D"]{ grid-area: D; }
.panel[style*="grid-area: E"]{ grid-area: E; }
.panel[style*="grid-area: F"]{ grid-area: F; }

/* Responsive: collapse into simpler grid */
@media (max-width: 900px){
  .comic-grid{
    grid-template-columns: 1fr 1fr;
    grid-template-rows: repeat(6, 40vh);
    grid-template-areas:
      "A A"
      "A A"
      "B C"
      "D C"
      "D F"
      "E F";
  }
}
@media (max-width: 560px){
  .comic-grid{
    grid-template-columns: 1fr;
    grid-template-rows: repeat(6, 40vh);
    grid-template-areas:
      "A" "A" "B" "C" "D" "F";
  }
}

/* Helper tip */
.tip{
  margin-top: 12px; text-align:center; color:#b9c4cc;
  font-size: 14px; opacity: .9;
}
/* Subtle image fade on change */
.panel-img { width:100%; height:100%; object-fit:cover; display:block; }
@keyframes fadeIn { from { opacity:.01; transform:scale(1.01) } to { opacity:1; transform:scale(1) } }
.fade-in { animation: fadeIn .35s ease both; }

/* Optional empty state look */
.panel.is-empty { display:grid; place-items:center; }
.panel-empty-ink{
  display:flex; flex-direction:column; align-items:center; gap:8px;
  color:#c8d1d6; background: rgba(255,255,255,.05);
  border-radius:12px; padding:10px 12px; box-shadow: inset 0 0 0 2px rgba(255,255,255,.06);
}
.panel-empty-ink span{ font-weight:700; letter-spacing:.2px; font-size:12px; opacity:.9; }