:root{
  --bg:#F7FBFB;
  --primary:#58CC02;     /* Duolingo green */
  --primary-700:#46A302;
  --secondary:#FFD166;   /* warm yellow */
  --ink:#111827;
  --muted:#6B7280;
  --card:#FFFFFF;
  --ring:#E5E7EB;
  --accent:#7C3AED;      /* purple */
  --danger:#EF4444;
  --radius:16px;
}
*{box-sizing:border-box}
html,body,#root{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--ink);
  font-family:'Poppins', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
}
a{color:inherit;text-decoration:none}
button{
  font-family:inherit;
  cursor:pointer;
  border:none;
  border-radius:14px;
  padding:12px 16px;
  font-weight:700;
  transition:transform .05s ease, box-shadow .15s ease;
}
.btn{background:var(--primary); color:#fff; box-shadow:0 6px 0 var(--primary-700)}
.btn:hover{transform:translateY(-1px)}
.btn:active{transform:translateY(2px); box-shadow:0 3px 0 var(--primary-700)}
.btn-ghost{background:#fff;color:var(--ink); border:1px solid var(--ring)}
.btn-secondary{background:var(--secondary)}

.container{max-width:1100px; margin:0 auto; padding:24px}
.card{
  background:var(--card);
  border:1px solid var(--ring);
  border-radius:var(--radius);
  box-shadow:0 12px 30px rgba(0,0,0,.06);
}
.row{display:flex; gap:12px; flex-wrap:wrap}
.grid{display:grid; gap:16px}
.grid-3{grid-template-columns:repeat(auto-fit, minmax(260px,1fr))}
.h1{font-size:40px; line-height:1.1; margin:0 0 8px}
.h2{font-size:28px; margin:0 0 6px}
.p{color:var(--muted); margin:0}

.navbar{position:sticky; top:0; z-index:10; background:#fff; border-bottom:1px solid var(--ring)}
.navinner{max-width:1100px; margin:0 auto; padding:12px 24px; display:flex; align-items:center; justify-content:space-between}
.brand{display:flex; align-items:center; gap:10px}
.brand b{font-size:20px}
.navlinks{display:flex; gap:12px; flex-wrap:wrap}
.navlinks a{padding:8px 12px; border-radius:999px}
.navlinks a.active{background:var(--bg); font-weight:700}

.hero{display:grid; gap:18px; grid-template-columns:1.2fr .8fr; align-items:center; margin-top:12px}
.hero .ill{min-height:260px; background:linear-gradient(135deg,#E9FCE6,#FFF6D7); border-radius:32px; border:1px solid var(--ring)}

.section{margin-top:28px; padding:16px}
.badge{display:inline-block; padding:6px 10px; background:#E9FCE6; color:var(--primary-700); border-radius:999px; font-weight:700}
.kbd{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; background:#F3F4F6; border:1px solid var(--ring); padding:2px 6px; border-radius:6px}

.form{display:grid; gap:12px}
.form .two{display:grid; grid-template-columns:1fr 1fr; gap:12px}
.form label{display:block; font-weight:700; margin-bottom:6px}
.form input, .form select, .form textarea{
  width:100%; padding:12px 12px; border-radius:12px; border:1px solid var(--ring); outline:none;
}
.form input:focus, .form select:focus, .form textarea:focus{box-shadow:0 0 0 3px #DCFCE7; border-color:#A7F3D0}
.help{font-size:12px; color:var(--muted)}

.story-img{
  height:220px; border-radius:16px; background:
    radial-gradient(100% 100% at 50% 0%, #E9D5FF 0%, #F5F3FF 60%, #EDE9FE 100%);
  border:1px solid var(--ring);
  display:flex; align-items:center; justify-content:center; color:#6B7280;
}
.reader{display:grid; gap:14px; max-width:780px; margin:0 auto; padding:12px}
.reader-controls{display:flex; justify-content:space-between; align-items:center; gap:12px}
.reader-nav button{min-width:120px}
/* Reserve space for the sticky player */
:root { --ap-h: 84px; }
body { padding-bottom: var(--ap-h); }

/* Shell */
.ap-shell {
  position: fixed;
  left: 0; right: 0; bottom: 0;
  height: var(--ap-h);
  background: #111;
  color: #eee;
  border-top: 1px solid rgba(255,255,255,0.08);
  box-shadow: 0 -8px 24px rgba(0,0,0,0.35);
  z-index: 1000;
}
.ap-inner {
  height: 100%;
  display: grid;
  grid-template-columns: 320px 1fr 320px;
  gap: 12px;
  align-items: center;
  padding: 10px 18px;
}

/* Left */
.ap-left { display: flex; gap: 12px; align-items: center; min-width: 0; }
.ap-cover { width: 56px; height: 56px; border-radius: 10px; overflow: hidden; background: #222; display: grid; place-items: center; }
.ap-cover img { width: 100%; height: 100%; object-fit: cover; }
.ap-cover-ph { width: 100%; height: 100%; color: #555; }
.ap-meta { min-width: 0; }
.ap-title { font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.ap-artist { font-size: 12px; color: #9aa; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

/* Center */
.ap-center { display: flex; flex-direction: column; align-items: center; gap: 6px; }
.ap-controls { display: flex; align-items: center; gap: 8px; }
.ap-controls .icon {
  width: 36px; height: 36px; display: grid; place-items: center;
  border-radius: 999px; background: transparent; border: none; color: #ddd; cursor: pointer;
}
.ap-controls .icon:hover { background: rgba(255,255,255,0.08); }
.ap-controls .icon.active { color: #4cd964; }
.ap-controls .play {
  width: 44px; height: 44px; border-radius: 999px; border: none; cursor: pointer;
  background: #1db954; color: #111; display: grid; place-items: center;
  box-shadow: 0 6px 16px rgba(29,185,84,0.35);
}
.ap-controls .play:hover { filter: brightness(1.05); }

.ap-progress {
  width: 100%;
  max-width: 720px;
  display: grid;
  grid-template-columns: 50px 1fr 50px;
  align-items: center;
  gap: 10px;
}
.ap-time { font-size: 12px; color: #9aa; text-align: center; }

.ap-bar {
  position: relative; height: 8px; border-radius: 999px; background: #222;
  overflow: hidden; cursor: pointer;
}
.ap-loaded {
  position: absolute; left: 0; top: 0; bottom: 0;
  background: linear-gradient(90deg, #333, #2a2a2a);
}
.ap-played {
  position: absolute; left: 0; top: 0; bottom: 0;
  background: linear-gradient(90deg, #1db954, #4ae28d);
  box-shadow: 0 0 16px rgba(29,185,84,0.35);
}

/* Right */
.ap-right { display: flex; align-items: center; gap: 10px; justify-self: end; }
.ap-vol {
  appearance: none; width: 120px; height: 6px; background: #222; border-radius: 999px; outline: none; cursor: pointer;
}
.ap-vol::-webkit-slider-thumb {
  appearance: none; width: 14px; height: 14px; border-radius: 999px; background: #1db954;
  box-shadow: 0 0 0 4px rgba(29,185,84,0.2);
}
.ap-queue { display: flex; align-items: center; gap: 6px; color: #9aa; }

@media (max-width: 960px) {
  .ap-inner { grid-template-columns: 1fr; gap: 6px; padding: 8px 12px; }
  .ap-left { display: none; }
  .ap-right { justify-self: center; }
}